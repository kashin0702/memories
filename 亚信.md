### vuex-封装

```js
//  store/index.js主文件，通过module独立封装各个store子模块
import Vue from 'vue'
import Vuex from 'vuex'
import enums from './modules/enums'
import page from './modules/page'
import operator from './modules/operator'
Vue.use(Vuex)

export default new Vuex.Store({
  modules: {
    enums: enums,
    page: page,
    operator: operator
  }
})

```

modules 子模块:

```js
//module enums为例
import {
  //这些都是提前定义的一些常量字段
  ENUMS_GET_KEY_VALUE,
  ENUMS_GET_NAME,
  ENUMS_SET_DATA
} from '../mutation-types'

const state = {
  data: {} // 枚举值数据对象
}
//**getters相当于store的计算属性，接受state作为第一个参数
const getters = {
  [ENUMS_GET_KEY_VALUE] (state) {
    return typeCode => {
      let arr = []
      for (let i in state.data[typeCode]) {
        arr.push({
          key: state.data[typeCode][i].enumValue,
          value: state.data[typeCode][i].enumName
        })
      }
      return arr
    }
  },
  [ENUMS_GET_NAME] (state) {
    return (value, typeCode) => {
      for (let i in state.data[typeCode]) {
        if (state.data[typeCode][i].enumValue === value) {
          return state.data[typeCode][i].enumName
        }
      }
      return ''
    }
  }
}

const mutations = {
  [ENUMS_SET_DATA] (state, data) {
    state.data = data
  }
}

const actions = {}

export default {
  state,
  getters,
  mutations,
  actions
}
```

